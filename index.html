<!DOCTYPE html>
<html lang="pt-PT">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mensagem na Garrafa</title>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;700&display=swap" rel="stylesheet">
<style>
  body {
    margin:0;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    font-family: 'Dancing Script', cursive;
    background: linear-gradient(135deg, #c8a2ff, #a17eff); /* fundo lilás degradê */
  }

  .card {
    background: rgba(255, 245, 220, 0.95); /* tom pergaminho */
    border-radius: 20px;
    padding: 35px;
    max-width:500px;
    width:90%;
    text-align:center;
    box-shadow: 0 12px 30px rgba(0,0,0,0.35);
    border: 2px solid #f4e1c1;
  }

  #mensagem {
    min-height:160px;
    white-space: pre-wrap;
    margin-bottom: 20px;
    font-size:22px;
    color:#5c3d2e;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
    line-height:1.5;
  }

  #continuar {
    border: 2px solid #5c3d2e;
    background: rgba(255, 255, 255, 0.3);
    color: #5c3d2e;
    padding: 12px 26px;
    border-radius: 50px;
    font-size:20px;
    cursor:pointer;
    font-family: 'Dancing Script', cursive;
    transition: 0.3s;
  }

  #continuar:hover {
    background: rgba(255, 255, 255, 0.6);
    transform: scale(1.05);
  }

  #continuar:disabled {
    opacity:0.5;
    cursor: default;
  }

  #pedido {
    display:none;
    font-size:28px;
    font-weight:bold;
    color:#d81e6a;
    margin-top:25px;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.15);
    white-space: pre-wrap;
  }

  .heart {
    position: fixed;
    font-size: 60px;
    pointer-events: none;
    animation: floatUp 3s linear forwards;
    left:50%;
    transform:translateX(-50%) rotate(-10deg);
  }

  @keyframes floatUp {
    0% { bottom:10%; opacity:0; transform:translateX(-50%) scale(0.8) rotate(-10deg);}
    30% { opacity:1; }
    100% { bottom:80%; opacity:0; transform:translateX(-50%) scale(1.4) rotate(10deg);}
  }
</style>
</head>
<body>
  <div class="card">
    <h2 style="margin:0 0 18px 0; font-size:26px; color:#5c3d2e;">Mensagem na garrafa</h2>
    <div id="mensagem"></div>
    <button id="continuar">❤️ Continuar</button>
    <div id="pedido"></div>
  </div>

<script>
const slides = [
  "Dizem que certas garrafas nunca se perdem.\nGuardam histórias invisíveis, escritas não com tinta, mas com esperança.",
  "Esta viajou por águas que não conheces, esperou em praias que nunca viste.\nE, ainda assim, chegou até ti.",
  "Talvez seja o mar a brincar com destinos.\nTalvez seja apenas sorte.\nOu talvez não exista acaso nenhum.",
  "Porque a mensagem que guardo não é para qualquer pessoa.\nÉ para ti."
];

const finalText = "Aceitas namorar comigo?";

const elMensagem = document.getElementById('mensagem');
const elPedido = document.getElementById('pedido');
const btn = document.getElementById('continuar');

let step = 0;
let typingInterval = null;

function escrever(element, texto, speed=50, callback){
  element.textContent = '';
  btn.disabled = true;
  let i = 0;
  typingInterval = setInterval(()=>{
    element.textContent += texto[i];
    i++;
    if(i >= texto.length){
      clearInterval(typingInterval);
      btn.disabled = false;
      if(callback) callback();
    }
  }, speed);
}

// inicia com primeiro slide
escrever(elMensagem, slides[0]);

btn.addEventListener('click', ()=>{
  if(btn.disabled) return;
  step++;
  if(step < slides.length){
    escrever(elMensagem, slides[step]);
  } else {
    btn.style.display = 'none';
    elMensagem.style.display = 'none';
    elPedido.style.display = 'block';
    escrever(elPedido, finalText, 60, ()=>{
      spawnHeart();
    });
  }
});

// coração único
function spawnHeart(){
  const h = document.createElement('div');
  h.className = 'heart';
  h.textContent = '❤️';
  h.style.bottom = '0';
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),3000);
}
</script>
</body>
</html>
